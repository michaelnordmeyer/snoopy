!function(t,e){var n={},r={},s={prefix:"",spaces:"  ",regex:{encode:/<|>|"|&/g,decode:/&(?:lt|gt|quot|amp);/g},map:{encode:{"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"},decode:{"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&"}}};function o(t,e){return t.replace(s.regex[e],function(t){return s.map[e][t]})}function i(t){for(var e=t.split(""),n=[],s=e.length,o=0;o<s;o+=1)e[o].charCodeAt(0)>127?n.push(e[o]):n.push(String.fromCharCode(e[o].charCodeAt(0)+10240));return r[n=n.join("")]=t,n}function c(t){return r[t]||""}function u(t,e){return"\xab"+i(e)+"\xb7"+i(t)+"\xb7"+i(e)+"\xbb"}function a(t,e,r){var i,u,a,l,p=0;for(l=t,u=(t="[object Array]"===Object.prototype.toString.call(l)?t:[t]).length;p<u;p+=1)(a=n[t[p]])&&(e=e.replace(a.regex,a.callback));return!1===r?e:(i=e).replace(/\u00ab(.+?)\u00b7(.+?)\u00b7\1\u00bb/g,function(t,e,n){var r,i;return r=c(n=n.replace(/\u00ab[^\u00b7]+\u00b7/g,"").replace(/\u00b7[^\u00bb]+\u00bb/g,"")),i=c(e),'<span class="'+s.prefix+i+'">'+o(r,"encode")+"</span>"})}function l(t,e,r){n[t]={regex:e,callback:r}}t.floodlight=function(e){return t.floodlight.html(e)},t.floodlight.options=s,t.floodlight.encode=function(t){return o(t,"encode")},t.floodlight.decode=function(t){return o(t,"decode")},l("whitespace",/\t/g,function(){return s.spaces}),t.floodlight.javascript=function(e){return a(t.floodlight.javascript.filters,e)},(function(){var e;for(e in this.keywords="var function if else for while break switch case do new null in with void continue delete return this true false throw catch typeof with instanceof".split(" "),this.special="eval window document undefined NaN Infinity parseInt parseFloat encodeURI decodeURI encodeURIComponent decodeURIComponent".split(" "),this.regex={comment:/(\/\/[^\n]*|\/\*(?:[^*\n]|\*+[^\/*])*\*+\/)/g,string:/("(?:(?!")[^\\\n]|\\.)*"|'(?:(?!')[^\\\n]|\\.)*')/g,regexp:/(\/.+\/[mgi]*)(?!\s*\w)/g,class:/\b([A-Z][a-zA-Z]+)\b/g,number:/\b([0-9]+(?:\.[0-9]+)?)\b/g,keyword:RegExp("\\b("+t.floodlight.javascript.keywords.join("|")+")\\b","g"),special:RegExp("\\b("+t.floodlight.javascript.special.join("|")+")\\b","g")},this.filters=["whitespace"],this.regex)!function(t,e,n){var r="javascript."+e;l(r,t,function(t,n){return u(n,"javascript-"+e)}),n.push(r)}(t.floodlight.javascript.regex[e],e,this.filters)}).call(t.floodlight.javascript),t.floodlight.css=function(e){return a(t.floodlight.css.filters,e)},(function(){var t="/[0-9a-f]{1,6}(?:\\r\\n|[ \\n\\r\\t\\f])?|[^\\n\\r\\f0-9a-f]/",e="[-]?(?:[_a-z]|[^\\0-\\237]|(?:"+t+"))(?:[_a-z0-9-]|[^\\0-\\237]|(?:"+t+"))*";this.regex={rule:RegExp("@"+e,"g"),selector:RegExp(e,"g"),string:RegExp("(?:\"|')(?:[^\\n\\r\\f\\1]|\\n\\|\\r\\n|\\r|\\f|"+t+")*\\1","g"),number:/[0-9]+|[0-9]*\.[0-9]+/g,block:/\{([^\}]*)\}/g,declaration:RegExp("("+e+")[^:]*:[\\s\\n]*([^;]*);","g"),comment:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g},this.filters=["css.comment","css.block"],l("css.block",this.regex.block,function(t,e){var n=a("css.declaration",e,!1);return t.replace(e,n)}),l("css.declaration",this.regex.declaration,function(t,e,n){console.log("%o",n);var r=a(["css.string","css.number"],n,!1);return r===n&&(r=u(n,"css-value")),t.replace(e,u(e,"css-property")).replace(n,r)}),l("css.string",this.regex.string,function(t){return console.log("'%o'",t),u(t,"css-string")}),l("css.number",this.regex.number,function(t){return u(t,"css-number")}),l("css.comment",this.regex.comment,function(t){return u(t,"css-comment")})}).call(t.floodlight.css),t.floodlight.html=function(e){return a(t.floodlight.html.filters,e)},(function(){this.regex={tag:/(<\/?)(\w+)([^>]*)(\/?>)/g,attr:/(\w+)(?:\s*=\s*("[^"]*"|'[^']*'|[^>\s]+))?/g,comment:/<!--[^\-]*-->/g,entity:/&[^;]+;/g,script:/<script[^>]*>([^<]*)<\/script>/gi},this.filters=["whitespace","html.script","html.comment","html.tag","html.entity"],l("html.tag",this.regex.tag,function(t,e,n,r,s){var o=a("html.attr",r,!1);return u(e,"html-bracket")+u(n,"html-tag")+o+u(s,"html-bracket")}),l("html.attr",this.regex.attr,function(t,e,n){return u(e,"html-attribute")+(n?"="+u(n,"html-value"):"")}),l("html.comment",this.regex.comment,function(t){return u(t,"html-comment")}),l("html.entity",this.regex.entity,function(t){return u(t,"html-entity")}),l("html.script",this.regex.script,function(e,n){var r=a(t.floodlight.javascript.filters,n,!1);return e.replace(n,r)})}).call(t.floodlight.html)}(this);var Sniffer=function(t,e,n){var r={},s={},o={},i={},c={},u=e.getElementsByTagName("script"),a=e.getElementsByTagName("meta"),l=e.documentElement.outerHTML||e.documentElement.innerHTML,p=e.doctype;function m(t,e){var n=t.match(e);return!!n&&(!n[1]||""==n[1]||n[1])}a=function(){for(var t,e=[],n=-1;t=a[++n];)t.name&&t.content&&e.push(t);return e}(),u=function(){for(var t,e=[],n=-1;t=u[++n];)t.src&&e.push(u);return e}(),s.pageinfo={description:"Page Information",return_type:"detail",tests:{Doctype:[{type:"doctype",test:{HTML5:{name:"html",publicId:""},"HTML 4.01 Strict":{name:"html",publicId:"-//W3C//DTD HTML 4.01//EN"},"HTML 4.01 Transitional":{name:"html",publicId:"-//W3C//DTD HTML 4.01 Transitional//EN"},"HTML 3.0":{name:"html",publicId:"-//W3C//DTD HTML 3.2 Final//EN"},"HTML 2.0":{name:"html",publicId:"-//IETF//DTD HTML 2.0//EN"},"XHTML 1.1":{name:"html",publicId:"-//W3C//DTD XHTML 1.1//EN"},"XHTML 1.0 Strict":{name:"html",publicId:"-//W3C//DTD XHTML 1.0 Strict//EN"},"XHTML 1.0 Transitional":{name:"html",publicId:"-//W3C//DTD XHTML 1.0 Transitional//EN"},"XHTML 1.0 Frameset":{name:"html",publicId:"-//W3C//DTD XHTML 1.0 Frameset//EN"},"XHTML 1.0 Basic":{name:"html",publicId:"-//W3C//DTD XHTML Basic 1.0//EN"}}}],Charset:[{type:"custom",test:function(){return e.characterSet||"None detected"}}]}},s.js_libs={description:"JavaScript Libraries",return_type:"version",tests:{Dojo:[{type:"custom",test:function(){return!!t.dojo&&t.dojo.version.toString()}}],ExtJS:[{type:"custom",test:function(){return!!t.Ext&&t.Ext.version}}],Glow:[{type:"custom",test:function(){return!!t.glow&&t.glow.VERSION}}],"Google Closure":[{type:"custom",test:function(){return!!t.goog}}],jQuery:[{type:"custom",test:function(){return!!t.jQuery&&t.jQuery.fn.jquery}}],"jQuery Mobile":[{type:"custom",test:function(){return!!t.jQuery&&!!t.jQuery.mobile&&t.jQuery.mobile.version}}],"jQuery UI":[{type:"custom",test:function(){return!!t.jQuery&&!!t.jQuery.ui&&t.jQuery.ui.version}}],Modernizr:[{type:"custom",test:function(){return!!t.Modernizr&&t.Modernizr._version}}],MooTools:[{type:"custom",test:function(){return!!t.MooTools&&t.MooTools.version}}],Prototype:[{type:"custom",test:function(){return!!t.Prototype&&t.Prototype.Version}}],Scriptaculous:[{type:"custom",test:function(){return!!t.Scriptaculous&&t.Scriptaculous.Version}}],YUI2:[{type:"custom",test:function(){return!!t.YAHOO&&t.YAHOO.VERSION}}],YUI3:[{type:"custom",test:function(){return!!t.YUI&&t.YUI.version}}]}},s.cms={description:"Content Management System",return_type:"version",tests:{Blogger:[{type:"meta",test:{name:"generator",match:/blogger/i}}],Drupal:[{type:"custom",test:function(){return!!t.Drupal}}],Ghost:[{type:"meta",test:{name:"generator",match:/Ghost\s?([\w\d\.\-_]*)/i}},{type:"custom",test:function(){return!!t.ghost}}],Jekyll:[{type:"meta",test:{name:"generator",match:/Jekyll v([\w\d\.]*)/i}}],Jimdo:[{type:"custom",test:function(){return!!t.jimdoData}}],Joomla:[{type:"meta",test:{name:"generator",match:/joomla\!?\s?([\d.]*)/i}}],Medium:[{type:"custom",test:function(){return!!t.__GRAPHQL_URI__}}],MovableType:[{type:"meta",test:{name:"generator",match:/Movable Type Pro ([\d.]*)/i}},{type:"custom",test:function(){return!!t.MT}}],Octopress:[{type:"meta",test:{name:"generator",match:/.*Octopress.*/i}}],Squarespace:[{type:"custom",test:function(){return!!t.Squarespace}}],Tumblr:[{type:"custom",test:function(){return!!t.Tumblr}}],Typepad:[{type:"meta",test:{name:"generator",match:/typepad\.com/i}}],Typo3:[{type:"meta",test:{name:"generator",match:/Typo3 CMS/i}}],Weebly:[{type:"custom",test:function(){return!!t.Weebly}}],Wix:[{type:"custom",test:function(){return!!t.wixDeveloperAnalytics||!!t.wixEmbedsAPI||!!t.wixPerformanceMeasurements||!!t.wixTagManager}}],WordPress:[{type:"meta",test:{name:"generator",match:/WordPress\s?([\w\d\.\-_]*)/i}},{type:"text",test:/<link [^>]+wp-content/i}]}},s.analytics={description:"Analytics",return_type:"version",tests:{Ackee:[{type:"custom",test:function(){return!!t.ackeeTracker}}],Chartbeat:[{type:"custom",test:function(){return!!(t._cb_shared||t._sf_async_config)}}],Clicky:[{type:"custom",test:function(){return!!t.clicky}}],"Cloudflare Insights":[{type:"text",test:/<script [^>]+\/\/static\.cloudflareinsights\.com\/beacon\.min\.js/i}],Fathom:[{type:"text",test:/<script [^>]+\/\/cdn\.usefathom\.com\/script\.js/i},{type:"custom",test:function(){return!!t.fathom}}],Gauges:[{type:"custom",test:function(){return!!t._gauges}}],GoatCounter:[{type:"text",test:/<script [^>]+\/\/gc\.zgo\.at\/count\.js/i},{type:"custom",test:function(){return!!t.goatcounter}}],"Google Analytics":[{type:"custom",test:function(){return!!(t._gat||t._gaq||t.ga||t.datalayer||t.gtag)}}],"Koko Analytics":[{type:"text",test:/<script [^>]+\/\/koko-analytics\/assets\/dist\/js\/script\.js/i},{type:"custom",test:function(){return!!t.koko_analytics}}],Matomo:[{type:"custom",test:function(){return!!(t._paq||t.Matomo||t.Piwik)}}],Microanalytics:[{type:"text",test:/<script [^>]+\/\/microanalytics\.io\/js\/script\.js/i}],Mint:[{type:"custom",test:function(){return!!t.Mint}}],"New Relic":[{type:"custom",test:function(){return!!(t.NREUMQ||t.NREUM)}}],"Open Web Analytics":[{type:"custom",test:function(){return!!(t.OWA||t.owa_baseUrl)}}],Pirsch:[{type:"text",test:/<script [^>]+\/\/api\.pirsch\.io\/pirsch\.js/i}],Plausible:[{type:"text",test:/<script [^>]+\/\/plausible\.io\/js\/script\.js/i},{type:"custom",test:function(){return!!t.plausible}}],Reinvigorate:[{type:"custom",test:function(){return!!t.reinvigorate}}],"Slimstat Analytics":[{type:"custom",test:function(){return!!t.SlimStatParams}}],Umami:[{type:"text",test:/<script [^>]+\/umami\.js/i},{type:"custom",test:function(){return!!t.umami}}],W3Counter:[{type:"custom",test:function(){return!!t._w3counter}}],Webtrends:[{type:"custom",test:function(){return!!t.Webtrends}}],Woopra:[{type:"custom",test:function(){return!!t.woopra}}],"WordPress Stats":[{type:"custom",test:function(){return!!(t._tkq||t._stq)}}]}},s.fonts={description:"Fonts",return_type:"version",tests:{"Adobe Fonts":[{type:"custom",test:function(){return!!t.Typekit}}],Cufon:[{type:"custom",test:function(){return!!t.Cufon}}],"Google Fonts":[{type:"custom",test:function(){return!!t.WebFont}},{type:"text",test:/<link [^>]+fonts\.googleapis\.com/i}],sIFR:[{type:"custom",test:function(){return!!t.sIFR}}]}},s.comments={description:"Comments",return_type:"version",tests:{"Cactus Comments":[{type:"text",test:/<script [^>]+\/\/latest\.cactus\.chat\/cactus\.js/i}],Discourse:[{type:"custom",test:function(){return!!t.DiscourseEmbed}}],Disqus:[{type:"custom",test:function(){return!!t.disqus_identifier}}],Giscus:[{type:"text",test:/<iframe [^>]+giscus-frame/i}],Isso:[{type:"text",test:/<section [^>]+isso-thread/i}],Utterances:[{type:"text",test:/<iframe [^>]+utterances-frame/i}]}},o.custom=function(t){return t()},o.text=function(t){return m(l,t)},p?o.doctype=function(t){for(subtest in t)if(t.hasOwnProperty(subtest)){var e=t[subtest];if(p.name.toLowerCase()==e.name&&p.publicId==e.publicId)return subtest}return!1}:o.doctype=function(){return"None detected"},u.length?o.script=function(t){for(var e,n=-1;e=u[++n];)return m(e.src,t);return!1}:o.script=function(){return!1},a.length?o.meta=function(t){for(var e,n=-1;e=a[++n];)if(e.name==t.name){var r=m(e.content,t.match);if(r)return r}return!1}:o.meta=function(){return!1};var f=function(t){for(var e,n=-1;e=t[++n];){var r=o[e.type](e.test);if(!1!==r)return r}return!1},d=function(t){for(group in s)if(s.hasOwnProperty(group)){for(test in s[group].tests)if(s[group].tests.hasOwnProperty(test)&&!1===t(group,test))return}},y=function(t,e,n){i[t]=i[t]||{},i[t].results=i[t].results||{},i[t].description=s[t].description,i[t].return_type=s[t].return_type,i[t].results[e]=n,c[e.toLowerCase()]=n};return r.results=function(){return i},r.check=function(t){return void 0!=c[t=t.toLowerCase()]||d(function(e,n){if(n.toLowerCase()===t)return y(e,n,f(s[e].tests[n])),!1}),c[t]},r.run=function(){return d(function(t,e){y(t,e,f(s[t].tests[e]))}),r.results()},r}(window,document);!function(){(t=navigator.userAgent).match(/iPhone/i)||t.match(/iPod/i)||t.match(/iPad/i)||t.match(/Android/i);var t,e={NAME:"Snoopy",VERSION:"0.5.0",URL:"https://github.com/michaelnordmeyer/snoopy",CREATED:'Created by <a href="http://allmarkedup.com/">Mark Perkins</a> and <a href="https://michaelnordmeyer.com/">Michael Nordmeyer</a>'};({element:null,modulesHtml:"",rawSource:"",generatedSource:"",init:function(){this.sniff(),this.getRawSource(),this.getGeneratedSource(),this.element=document.createElement("div"),this.element.setAttribute("id","snpy"),this.element.classList.add("cleanslate"),this.element.innerHTML=this.createHtml(),document.body.appendChild(this.element),this.markupLastDetectedModule(),this.setMaxDimensions(),this.bindEvents()},sniff:function(){let t=Sniffer.run();for(group in t){var e,n=!1;for(test in e="<h2>"+t[group].description+'</h2><ul class="tests">',t[group].results){let r=t[group].results[test];e+='<li class="'+(r?"positive":"negative")+'">',e+='<span class="test-for">'+test+"</span>",e+='<span class="test-result '+(!0===r?"no-detail":(!!r).toString())+'">'+(!0===r?"-":r.toString())+"</span></li>",r&&(n=!0)}e+="</ul>",this.modulesHtml+='<div class="module'+(n?"":" no-detection")+" type_"+group+" output_"+t[group].return_type+'">'+e+"</div>"}},getRawSource:function(){var t=this,e=new XMLHttpRequest;e.onload=function(){t.rawSource=floodlight(floodlight.decode(this.response.trim())),document.querySelector("#snpy-rawsource code").innerHTML=t.rawSource},e.open("GET",location.href,!0),e.send()},getGeneratedSource:function(){this.generatedSource=floodlight(floodlight.decode(document.documentElement.outerHTML.toString()))},markupLastDetectedModule:function(){let t=this.getLastDetectedModule();t&&(t.style.cssText="margin-bottom: 0 !important;")},getLastDetectedModule:function(){let t=document.querySelectorAll("#snpy .module");for(index=t.length-1;index>=0;index-=1)if(!t[index].classList.contains("no-detection"))return t[index]},bindEvents:function(){var t=this;window.addEventListener("resize",function(){t.setMaxDimensions()}),document.querySelector("#snpy .toggle-tests").addEventListener("click",function(){t.toggleTests()}),document.querySelector("#snpy .close").addEventListener("click",function(){document.getElementById("snpy").classList.add("closed")});let e=document.querySelectorAll("#snpy .tabs li"),n=document.querySelectorAll("#snpy .panel");e.forEach(function(t){t.addEventListener("click",function(t){e.forEach(function(t){t.classList.remove("active")}),t.target.parentElement.classList.add("active"),n.forEach(function(t){t.classList.remove("active")}),document.querySelector(this.children[0].getAttribute("data-href")).classList.add("active")})})},setMaxDimensions:function(){this.element.style.maxHeight=window.innerHeight+"px";let t=window.innerHeight-document.querySelector("#snpy .header").clientHeight-document.querySelector("#snpy .tabs").clientHeight-document.querySelector("#snpy .footer").clientHeight,e="max-height: "+(t-40)+"px !important;";document.querySelector("#snpy .modules").style.cssText="max-height: "+(t-30)+"px !important;",document.querySelectorAll("#snpy pre code").forEach(function(t){t.style.cssText=e})},toggleTests:function(){document.querySelectorAll("#snpy .tests li.negative").forEach(function(t){t.style.cssText?t.style.cssText="":t.style.cssText="display: block !important;"});var t=!1,e=!1;if(document.querySelectorAll("#snpy .module.no-detection").forEach(function(n){n.style.cssText?(n.style.cssText="",e=!0):(n.style.cssText="display: block !important;",t=!0)}),!0===t){let n=this.getLastDetectedModule();n&&(n.style.cssText="")}!0===e&&this.markupLastDetectedModule()},createHtml:function(){return`
<div class="header">
  <button class="close" title="Closes Snoopy" type="button"></button>
  <button class="toggle-tests" title="Toggles undetected items in Overview" type="button"></button>
  <h1><a href="${e.URL}">${e.NAME} ${e.VERSION}</a></h1>
</div>
<div class="body">
  <ul class="tabs">
    <li class="active"><button data-href="#snpy-overview">Overview</button></li>
    <li><button data-href="#snpy-rawsource">Source</a></li>
    <li><button data-href="#snpy-gensource">Generated Source</button></li>
  </ul>
  <div class="panels">
    <div id="snpy-overview" class="panel active">
      <div class="modules">${this.modulesHtml}</div>
    </div>
    <div id="snpy-rawsource" class="panel">
      <pre><code>Loading source code…</code></pre>
    </div>
    <div id="snpy-gensource" class="panel">
      <pre><code>${this.generatedSource}</code></pre>
    </div>
  </div>
</div>
<div class="footer">
  ${e.CREATED}
</div>`}}).init()}();